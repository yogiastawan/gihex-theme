{{ define "main" }}

<div class="hero bg-base-200 rounded-lg shadow-sm">
    <section class="hero-content gap-1 w-full flex-col items-start text-left">
        {{ partial "page/breadcrumbs.html" . }}

        <h1 class="text-2xl lg:text-3xl font-bold">{{.Title}}</h1>
        <div class="pb-6 flex flex-col gap-2">
            {{/* tags */}}
            {{ partial "terms.html" (dict "taxonomy" "tags" "page" .) }}
            <div class="flex flex-wrap items-center flex-row gap-2 p-0 text-base-content/80">
                {{/* authors */}}
                {{ if .Params.author }}
                <div class="flex items-center gap-1">
                    <svg width="16px" height="16px" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"
                        fill="currentColor">
                        <path
                            d="M16 7.992C16 3.58 12.416 0 8 0S0 3.58 0 7.992c0 2.43 1.104 4.62 2.832 6.09.016.016.032.016.032.032.144.112.288.224.448.336.08.048.144.111.224.175A7.98 7.98 0 0 0 8.016 16a7.98 7.98 0 0 0 4.48-1.375c.08-.048.144-.111.224-.16.144-.111.304-.223.448-.335.016-.016.032-.016.032-.032 1.696-1.487 2.8-3.676 2.8-6.106zm-8 7.001c-1.504 0-2.88-.48-4.016-1.279.016-.128.048-.255.08-.383a4.17 4.17 0 0 1 .416-.991c.176-.304.384-.576.64-.816.24-.24.528-.463.816-.639.304-.176.624-.304.976-.4A4.15 4.15 0 0 1 8 10.342a4.185 4.185 0 0 1 2.928 1.166c.368.368.656.8.864 1.295.112.288.192.592.24.911A7.03 7.03 0 0 1 8 14.993zm-2.448-7.4a2.49 2.49 0 0 1-.208-1.024c0-.351.064-.703.208-1.023.144-.32.336-.607.576-.847.24-.24.528-.431.848-.575.32-.144.672-.208 1.024-.208.368 0 .704.064 1.024.208.32.144.608.336.848.575.24.24.432.528.576.847.144.32.208.672.208 1.023 0 .368-.064.704-.208 1.023a2.84 2.84 0 0 1-.576.848 2.84 2.84 0 0 1-.848.575 2.715 2.715 0 0 1-2.064 0 2.84 2.84 0 0 1-.848-.575 2.526 2.526 0 0 1-.56-.848zm7.424 5.306c0-.032-.016-.048-.016-.08a5.22 5.22 0 0 0-.688-1.406 4.883 4.883 0 0 0-1.088-1.135 5.207 5.207 0 0 0-1.04-.608 2.82 2.82 0 0 0 .464-.383 4.2 4.2 0 0 0 .624-.784 3.624 3.624 0 0 0 .528-1.934 3.71 3.71 0 0 0-.288-1.47 3.799 3.799 0 0 0-.816-1.199 3.845 3.845 0 0 0-1.2-.8 3.72 3.72 0 0 0-1.472-.287 3.72 3.72 0 0 0-1.472.288 3.631 3.631 0 0 0-1.2.815 3.84 3.84 0 0 0-.8 1.199 3.71 3.71 0 0 0-.288 1.47c0 .352.048.688.144 1.007.096.336.224.64.4.927.16.288.384.544.624.784.144.144.304.271.48.383a5.12 5.12 0 0 0-1.04.624c-.416.32-.784.703-1.088 1.119a4.999 4.999 0 0 0-.688 1.406c-.016.032-.016.064-.016.08C1.776 11.636.992 9.91.992 7.992.992 4.14 4.144.991 8 .991s7.008 3.149 7.008 7.001a6.96 6.96 0 0 1-2.032 4.907z" />
                    </svg>
                    <span class="text-sm">{{.Params.author}}</span>
                </div>
                {{ end }}

                {{/* time created */}}
                <div class="flex items-center gap-1">
                    <svg width="16px" height="16px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M23 12C23 18.0751 18.0751 23 12 23C5.92487 23 1 18.0751 1 12C1 5.92487 5.92487 1 12 1C18.0751 1 23 5.92487 23 12ZM3.00683 12C3.00683 16.9668 7.03321 20.9932 12 20.9932C16.9668 20.9932 20.9932 16.9668 20.9932 12C20.9932 7.03321 16.9668 3.00683 12 3.00683C7.03321 3.00683 3.00683 7.03321 3.00683 12Z"
                            fill="currentColor" />
                        <path
                            d="M12 5C11.4477 5 11 5.44771 11 6V12.4667C11 12.4667 11 12.7274 11.1267 12.9235C11.2115 13.0898 11.3437 13.2343 11.5174 13.3346L16.1372 16.0019C16.6155 16.278 17.2271 16.1141 17.5032 15.6358C17.7793 15.1575 17.6155 14.5459 17.1372 14.2698L13 11.8812V6C13 5.44772 12.5523 5 12 5Z"
                            fill="currentColor" />
                    </svg>
                    {{ $dateMachine := .Date | time.Format "2006-01-02T15:04:05-07:00" }}
                    {{ $dateHuman := .Date | time.Format ":date_long" }}
                    <time class="text-sm" datetime="{{ $dateMachine }}">{{ $dateHuman }}</time>
                </div>

            </div>
        </div>
    </section>
</div>
<div class="my-4 px-4 flex flex-col gap-4 lg:flex-row">
    {{/* Ads slot 2 mobile */}}
    <div class="lg:hidden flex card bg-base-200 shadow-sm">
        <div class="card-body px-2">
            <p class="card-title ml-4 text-center">Advertisment</p>
            {{/* ads */}}
        </div>
    </div>
    {{/* article content */}}
    <article class="grow">
        {{ .Content }}

        {{/* button next prev */}}
        <div>
            <div class="divider my-8"></div>
            <div class="flex justify-between">
                {{/* Tombol Previous Post */}}
                {{ with .PrevInSection }}
                <a href="{{ .RelPermalink }}" class="btn btn-outline">
                    <svg fill="currentColor" class="h-5 w-5" xmlns="http://www.w3.org/2000/svg"
                        xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" xml:space="preserve">
                        <g id="previous">
                            <g>
                                <polygon points="17.2,23.7 5.4,12 17.2,0.3 18.5,1.7 8.4,12 18.5,22.3   " />
                            </g>
                        </g>
                    </svg>

                    Previous
                </a>
                {{ else }}
                {{/* Placeholder agar tombol 'Next' tetap di kanan */}}
                <div></div>
                {{ end }}

                {{/* Tombol Next Post */}}
                {{ with .NextInSection }}
                <a href="{{ .RelPermalink }}" class="btn btn-outline">
                    Next
                    <svg fill="currentColor" class="h-5 w-5" xmlns="http://www.w3.org/2000/svg"
                        xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" xml:space="preserve">
                        <g id="next">
                            <g>
                                <polygon points="6.8,23.7 5.4,22.3 15.7,12 5.4,1.7 6.8,0.3 18.5,12   " />
                            </g>
                        </g>
                    </svg>
                </a>
                {{ end }}
            </div>
        </div>
    </article>

    {{/* sidebar */}}
    <aside class="flex flex-col gap-4 lg:w-1/3 lg:min-w-[352px]">
        {{/* Ads slot 1 desktop */}}
        <div class="hidden lg:flex card bg-base-200 shadow-sm">
            <div class="card-body px-2">
                <p class="card-title ml-4 text-center">Advertisment</p>
                {{/* ads */}}
            </div>
        </div>

        {{/* Ads slot 1 mobile */}}
        <div class="lg:hidden flex card bg-base-200 shadow-sm">
            <div class="card-body px-2">
                <p class="card-title ml-4 text-center">Advertisment</p>
                {{/* ads */}}
            </div>
        </div>
        {{ $related := .Site.RegularPages.Related . | first 5 }}
        {{ with $related }}
        <div class="card bg-base-200 shadow-sm">
            <div class="card-body">
                <h2 class="card-title">Related Posts</h2>
                <ul class="space-y-2">
                    {{ range . }}
                    {{ $page := . }}
                    <li class="flex items-center gap-3 tooltip" data-tip="{{$page.LinkTitle}}">
                        <figure class="w-16 h-10 bg-base-300 rounded shrink-0">
                            {{- $sectionConfig := index (where site.Params.BlogContentKinds "section" $page.Section) 0
                            -}}
                            {{- $contentThumbnail := $sectionConfig.defaultThumbnail -}}
                            {{- $imagePath := $page.Params.image | default $contentThumbnail -}}
                            {{- with $imagePath -}}
                            <a href="{{ $page.RelPermalink }}">
                                <img src="{{ . | relURL }}" alt="{{ $page.Title }}"
                                    class="w-full h-full object-cover rounded" />
                            </a>
                            {{- end -}}
                        </figure>
                        {{/* lg */}}
                        <a href="{{ $page.RelPermalink }}" class=" md:hidden lg:block link link-hover">{{
                            $page.LinkTitle |
                            truncate
                            50 }}</a>
                        {{/* md */}}
                        <a href="{{ $page.RelPermalink }}" class="hidden md:block lg:hidden link link-hover">{{
                            $page.LinkTitle |
                            truncate
                            150 }}</a>

                    </li>

                    {{ end }}
                </ul>
            </div>
        </div>
        {{ end }}

        {{/* Ads slot 2 desktop*/}}
        <div class="hidden lg:flex card bg-base-200 shadow-sm">
            <div class="card-body px-2">
                <p class="card-title ml-4 text-center">Advertisment</p>
                {{/* ads */}}
            </div>
        </div>
    </aside>

</div>


{{ end }}