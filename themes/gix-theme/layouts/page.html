{{ define "main" }}

{{/* hero title */}}
<div class="hero bg-base-200 rounded-lg shadow-sm mt-4">

    <section class="hero-content gap-1 w-full flex-col items-start text-left">
        {{ partial "page/breadcrumbs.html" . }}

        <h1 class="text-2xl lg:text-3xl font-bold">{{.Title}}</h1>
        <div class="pb-6 flex flex-col gap-2">
            <div class="flex flex-wrap items-center flex-row gap-4 p-0">
                {{/* categories */}}
                {{ partial "terms.html" (dict "taxonomy" "categories" "page" .) }}
                {{/* tags */}}
                {{ partial "terms.html" (dict "taxonomy" "tags" "page" .) }}
            </div>

            <div class="flex flex-wrap items-center flex-row gap-4 p-0 text-base-content/80">
                {{/* authors */}}
                {{ partial "terms.html" (dict "taxonomy" "authors" "page" .) }}

                {{/* time created */}}
                <div class="flex items-center gap-1">
                    <div class="tooltip" data-tip="{{i18n `date_created`}}">
                        <svg width="16px" height="16px" viewBox="0 0 24 24" fill="none"
                            xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M23 12C23 18.0751 18.0751 23 12 23C5.92487 23 1 18.0751 1 12C1 5.92487 5.92487 1 12 1C18.0751 1 23 5.92487 23 12ZM3.00683 12C3.00683 16.9668 7.03321 20.9932 12 20.9932C16.9668 20.9932 20.9932 16.9668 20.9932 12C20.9932 7.03321 16.9668 3.00683 12 3.00683C7.03321 3.00683 3.00683 7.03321 3.00683 12Z"
                                fill="currentColor" />
                            <path
                                d="M12 5C11.4477 5 11 5.44771 11 6V12.4667C11 12.4667 11 12.7274 11.1267 12.9235C11.2115 13.0898 11.3437 13.2343 11.5174 13.3346L16.1372 16.0019C16.6155 16.278 17.2271 16.1141 17.5032 15.6358C17.7793 15.1575 17.6155 14.5459 17.1372 14.2698L13 11.8812V6C13 5.44772 12.5523 5 12 5Z"
                                fill="currentColor" />
                        </svg>
                    </div>
                    {{ $dateMachine := .Date | time.Format "2006-01-02T15:04:05-07:00" }}
                    {{ $dateHuman := .Date | time.Format ":date_long" }}
                    <time class="text-sm" datetime="{{ $dateMachine }}">{{ $dateHuman }}</time>
                </div>

            </div>
        </div>
    </section>
</div>
<div class="p-4 flex flex-col gap-4 lg:flex-row">
    {{/* Ads slot 2 mobile */}}
    <div class="lg:hidden flex card bg-base-200 shadow-sm">
        <div class="card-body px-2">
            <p class="card-title ml-4 text-center">{{i18n "ads"}}</p>
            {{/* ads */}}
        </div>
    </div>
    {{/* article content */}}
    <article class="grow">
        {{ .Content }}

        {{/* button next prev */}}
        <div>
            <div class="divider my-8"></div>
            <div class="flex justify-between">
                {{/* Tombol Previous Post */}}
                {{ with .PrevInSection }}
                <a href="{{ .RelPermalink }}" rel="prev" class="btn btn-outline">
                    <svg fill="currentColor" class="h-5 w-5" xmlns="http://www.w3.org/2000/svg"
                        xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" xml:space="preserve">
                        <g>
                            <g>
                                <polygon points="17.2,23.7 5.4,12 17.2,0.3 18.5,1.7 8.4,12 18.5,22.3   " />
                            </g>
                        </g>
                    </svg>

                    {{i18n "previous"}}
                </a>
                {{ else }}
                {{/* Placeholder agar tombol 'Next' tetap di kanan */}}
                <div></div>
                {{ end }}

                {{/* Tombol Next Post */}}
                {{ with .NextInSection }}
                <a href="{{ .RelPermalink }}" rel="next" class="btn btn-outline">
                    {{i18n "next"}}
                    <svg fill="currentColor" class="h-5 w-5" xmlns="http://www.w3.org/2000/svg"
                        xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" xml:space="preserve">
                        <g>
                            <g>
                                <polygon points="6.8,23.7 5.4,22.3 15.7,12 5.4,1.7 6.8,0.3 18.5,12   " />
                            </g>
                        </g>
                    </svg>
                </a>
                {{ end }}
            </div>
        </div>
    </article>

    {{/* sidebar */}}
    <aside class="flex flex-col gap-4 lg:w-1/3 lg:min-w-[352px]">
        {{/* Ads slot 1 desktop */}}
        <div class="hidden lg:flex card bg-base-200 shadow-sm">
            <div class="card-body px-2">
                <p class="card-title ml-4 text-center">{{i18n "ads"}}</p>
                {{/* ads */}}
            </div>
        </div>

        {{/* Ads slot 1 mobile */}}
        <div class="lg:hidden flex card bg-base-200 shadow-sm">
            <div class="card-body px-2">
                <p class="card-title ml-4 text-center">{{i18n "ads"}}</p>
                {{/* ads */}}
            </div>
        </div>
        {{ $related := .Site.RegularPages.Related . | first 5 }}
        {{ with $related }}
        <div class="card bg-base-200 shadow-sm">
            <div class="card-body">
                <h2 class="card-title">{{i18n "related_post"}}</h2>
                <ul class="space-y-2">
                    {{ range . }}
                    {{ $page := . }}
                    <li class="flex items-center gap-3 tooltip" data-tip="{{$page.LinkTitle}}">
                        <figure class="w-16 h-10 bg-base-300 rounded shrink-0">
                            {{- $defaultThumbnail := .Section | site.GetPage }}
                            {{- $imagePath := .Params.image | default $defaultThumbnail.Params.defaultThumbnail -}}
                            {{- with $imagePath -}}
                            <a href="{{ $page.RelPermalink }}">
                                <img src="{{ . | relURL }}" alt="{{ $page.Title }}"
                                    class="w-full h-full object-cover rounded" />
                            </a>
                            {{- end -}}
                        </figure>
                        {{/* lg */}}
                        <a href="{{ $page.RelPermalink }}" class=" md:hidden lg:block link link-hover">{{
                            $page.LinkTitle |
                            truncate
                            50 }}</a>
                        {{/* md */}}
                        <a href="{{ $page.RelPermalink }}" class="hidden md:block lg:hidden link link-hover">{{
                            $page.LinkTitle |
                            truncate
                            150 }}</a>

                    </li>

                    {{ end }}
                </ul>
            </div>
        </div>
        {{ end }}

        {{/* Ads slot 2 desktop*/}}
        <div class="hidden lg:flex card bg-base-200 shadow-sm">
            <div class="card-body px-2">
                <p class="card-title ml-4 text-center">{{i18n "ads"}}</p>
                {{/* ads */}}
            </div>
        </div>
    </aside>

</div>


{{ end }}